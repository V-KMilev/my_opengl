message("[BUILDING:VKMGL] Submodules")

set(VKMGL_MODULES_DIR ${PROJECT_SOURCE_DIR}/modules)

set(GLFW_DIR  ${VKMGL_MODULES_DIR}/glfw)
set(GLM_DIR   ${VKMGL_MODULES_DIR}/glm)
set(IMGUI_DIR ${VKMGL_MODULES_DIR}/imgui)
set(STB_DIR   ${VKMGL_MODULES_DIR}/stb_image)

set(SOURCES
	${GLFW_DIR}/deps/glad_gl.c
)
set(HEADERS
	${GLFW_DIR}/deps/glad/gl.h

	${GLM_DIR}/glm
	${STB_DIR}
)

add_subdirectory(${GLFW_DIR})

# Set the target's include directories
target_include_directories(${PROJECT_NAME} PUBLIC
	${GLFW_DIR}/deps/glad
	${GLFW_DIR}/deps
	${GLFW_DIR}/include

	${GLM_DIR}/glm

	${STB_DIR}
)

# Add the source files to the target
target_sources(${PROJECT_NAME} PRIVATE ${SOURCES} ${HEADERS})

set(IMGUI_SOURCES
	${IMGUI_DIR}/backends/imgui_impl_opengl3.cpp
	${IMGUI_DIR}/backends/imgui_impl_glfw.cpp

	${IMGUI_DIR}/imgui_widgets.cpp
	${IMGUI_DIR}/imgui_tables.cpp
	${IMGUI_DIR}/imgui_demo.cpp
	${IMGUI_DIR}/imgui_draw.cpp
	${IMGUI_DIR}/imgui.cpp
)

add_library(ImGui STATIC ${IMGUI_SOURCES})

target_include_directories(ImGui PUBLIC
	${IMGUI_DIR}/backends
	${IMGUI_DIR}
)
target_link_libraries(ImGui PUBLIC
	glfw
)
